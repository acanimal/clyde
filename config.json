{

  "_prefilters" : "Global filters applied before any provider",
  "prefilters" : [
    {
      "name" : "logger",
      "path" : "./filters/simple-access-log",
      "config" : {
        "directory" : "./tmp/log",
        "file" : "access-pre-%DATE%.log"
      }
    },
    {
      "name" : "digest-auth",
      "path" : "./filters/simple-digest-auth",
      "config" : {
        "realm" : "clyde",
        "consumers" : {
          "userA" : "passA"
        }
      }
    },
    {
      "name" : "rate-limit",
      "path" : "./filters/simple-rate-limit",
      "config" : {
        
        "global" : {
          "tokens" : 150,
          "interval" : "hour"
        },

        "consumers" : {
          "userA" : {
            "tokens" : 150,
            "interval" : "hour"
          }
        },

        "providers" : {
          "providerA" : {
            "global" : {
              "tokens" : 150,
              "interval" : "hour"
            },

            "consumers" : {
              "userA" : {
                "tokens" : 150,
                "interval" : "hour"
              }
            }            
          }

        }

      }
    }
  ],

  "_providers" : "Route to our private APIs",
  "providers" : [
    {
      "context" : "/prov1",
      "name" : "provider1",
      "target" : "http://localhost:8080"
    },
    {
      "context" : "/prov2",
      "name" : "provider2",
      "target" : "http://localhost:5000",

      "_prefilters" : "Local filters applied before proxy to provider",
      "prefilters" : [],
      "_postfilters" : "Local filters applied after proxy to provider",
      "postfilters" : []
    }
  ],

  "_postfilters" : "Global filters applied after any provider",
  "postfilters" : [
    {
      "name" : "postLogger",
      "path" : "./filters/simple-access-log",
      "config" : {
        "directory" : "./tmp/log",
        "file" : "access-post-%DATE%.log"
      }
    }
  ]

}